<div v-cloak>
    <transition name="fade">
      <div
        v-if="modal.open && modal.type==='cart'"
        class="fixed inset-0 bg-black bg-opacity-50 z-50"
        @click="toggleModal('cart')"
      ></div>
    </transition>
  
    <transition name="slide-left">
      <div
        v-if="modal.open && modal.type==='cart'"
        class="fixed top-0 left-0 h-screen w-full md:max-w-md max-w-xs bg-white shadow-lg z-[51] flex flex-col"
      >
        <!-- Header -->
        <div class="flex justify-between py-[10px] px-5 border-b">
          <span class="font-medium text-dark">السلة</span>
          <button @click="toggleModal('cart')">
            <span class="material-symbols-outlined"> close </span>
          </button>
        </div>
  
        <!-- Items (Scrollable) -->
        <div class="flex-1 overflow-auto px-4 py-[23px] flex flex-col gap-4">
          <!-- Item -->
          <div class="p-3 flex justify-between gap-2">
            <div class="flex gap-4">
              <img
                src="{{ globals.app.logo.fileUrl }}"
                class="w-[70px] h-[70px]"
                alt="fileUrl"
              />
              <div class="flex flex-col gap-2">
                <div class="flex flex-col gap-1">
                  <p class="text-sm font-medium text-dark">كنب كلاسيك</p>
                  <span class="text-[#7C7C7C] text-xs">الحجم : صغير</span>
                  <span class="text-mainColor text-sm font-semibold"
                    >300.00 ج.م</span
                  >
                </div>
                <div class="flex w-[90px] h-6 items-center gap-2">
                  <button
                    class="flex w-full h-full material-symbols-outlined items-center justify-center border rounded border-[#E5E5E5] cursor-pointer"
                    @click="decreaseCartItem(item._id,item.quantity)"
                  >
                    remove
                  </button>
                  <span
                    class="w-full h-full bg-[#F3F3F3] rounded flex items-center justify-center"
                    x-text="item.quantity"
                  ></span>
                  <button
                    class="flex w-full material-symbols-outlined h-full items-center justify-center border rounded border-[#E5E5E5] cursor-pointer"
                    @click="increaseCartItem(item._id, item.quantity)"
                  >
                    add
                  </button>
                </div>
              </div>
            </div>
            <span class="material-symbols-outlined"> delete </span>
          </div>
  
          <hr />
  
          <!-- Item -->
          <div class="p-3 flex justify-between gap-2">
            <div class="flex gap-4">
              <img
                src="{{ globals.app.logo.fileUrl }}"
                class="w-[70px] h-[70px]"
                alt="fileUrl"
              />
              <div class="flex flex-col gap-2">
                <div class="flex flex-col gap-1">
                  <p class="text-sm font-medium text-dark">كنب كلاسيك</p>
                  <span class="text-[#7C7C7C] text-xs">الحجم : صغير</span>
                  <span class="text-mainColor text-sm font-semibold"
                    >300.00 ج.م</span
                  >
                </div>
                <div class="flex w-[90px] h-6 items-center gap-2">
                  <span
                    class="flex w-full h-full material-symbols-outlined items-center justify-center border rounded border-[#E5E5E5] cursor-pointer"
                    @click="decreaseCartItem(item._id,item.quantity)"
                  >
                    remove
                  </span>
                  <span
                    class="w-full h-full bg-[#F3F3F3] rounded flex items-center justify-center"
                    x-text="item.quantity"
                  ></span>
                  <span
                    class="flex w-full material-symbols-outlined h-full items-center justify-center border rounded border-[#E5E5E5] cursor-pointer"
                    @click="increaseCartItem(item._id, item.quantity)"
                  >
                    add
                  </span>
                </div>
              </div>
            </div>
            <span class="material-symbols-outlined"> delete </span>
          </div>
        </div>
  
        <!-- Footer -->
        <div class="flex flex-col gap-4 pt-4 shadow-[0px_0px_10px_0px_#E4E4E4]">
          <div class="flex justify-between pt-1.5 p-4 border-b border-[#D9D9D9]">
            <span class="text-sm">اجمالي الطلب</span>
            <span class="text-mainColor font-semibold">2000 ج.م</span>
          </div>
  
          <div class="flex flex-col md:gap-4 gap-2 px-[22px]">
            <span class="font-medium text-xs"
              >أضف 150 ج.م إلى مشترياتك لتحصل على الشحن مجانًا!</span
            >
            <div class="relative w-full">
              <div class="bg-[#F4F4F4] rounded-full h-2 w-full"></div>
              <div
                class="absolute top-0 right-0 h-2 bg-mainColor rounded-full"
                style="width:50%"
              ></div>
              <div class="absolute top-1/2 -translate-y-1/2" style="right:43%">
                <div
                  class="rounded-full h-8 w-8 border border-mainColor bg-white flex items-center justify-center"
                >
                  <span
                    class="material-symbols-outlined text-base transform -scale-x-100 text-mainColor"
                  >
                    local_shipping
                  </span>
                </div>
              </div>
            </div>
          </div>
  
          <div class="flex items-center gap-4 px-4 pb-4">
            <button
              class="py-3 flex-1 bg-mainColor text-white rounded-lg text-sm font-medium flex justify-center items-center"
            >
              اشتري الان
            </button>
            <a
              href="/cart"
              class="font-medium text-mainColor text-sm py-3 border border-mainColor rounded-lg flex-1 flex justify-center items-center"
            >
              عرض السلة
            </a>
          </div>
        </div>
      </div>
    </transition>
  </div>
  