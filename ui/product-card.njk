{# <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden group border flex flex-col h-[420px]">

    <!-- Product Image -->
    <a href="/product/{{ data.product.slug }}" class="group block">
        <img src="{{ data.product.images[0].fileUrl | default('https://placehold.co/600x400/orange/white') }}"
            alt="{{ data.product.title }}"
            class="w-full h-64 object-cover transition-all duration-300 group-hover:scale-110 group-hover:opacity-90">
    </a>

    <!-- Product Details -->
    <div class="p-4 text-center flex flex-col h-full">
        <div class="flex-1">
            <h3 class="font-semibold text-sm text-gray-800 leading-relaxed mb-2">{{ data.product.title }}</h3>
            <p class="text-black font-bold">{{ data.product.pricing.price | money }}</p>
        </div>

        <!-- Add to Cart Button -->
        <div class="mt-auto pt-3">
            <button @click="addProductToCart('{{ data.product._id }}', 1, [])" :disabled="loading.addToCart"
                class="w-full bg-[#003033] hover:bg-[#004d4d] text-white py-3 px-4 rounded-lg text-sm font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-md font-cairo font-medium flex items-center justify-center gap-2">

                <!-- Icon + Text -->
                <i x-show="!loading.addToCart" class="fi fi-rr-shopping-cart text-lg"></i>
                <span x-show="!loading.addToCart">أضف للسلة</span>

                <!-- Loading -->
                <svg x-show="loading.addToCart" class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
                </svg>
                <span x-show="loading.addToCart">جاري الإضافة...</span>
            </button>
        </div>
    </div>
</div> #}

<div class="bg-white rounded-xl shadow-[0px_0px_10px_0px_#E4E4E4] overflow-hidden h-full flex flex-col">
    <div class="relative">
        <a href="/product/{{ data.product.slug }}" class="block">
            <img alt="{{ data.product.title }}"
                src="{{ data.product.images[0].fileUrl | default('https://placehold.co/600x400/orange/white') }}"
                alt="{{ product.title }}" class="w-full h-48 md:h-56 object-cover">
        </a>
            {% if data.product.pricing.compareAtPrice and data.product.pricing.compareAtPrice > data.product.pricing.price %}
        <span class="absolute top-2 right-2 bg-orange-500 text-white text-xs px-2 py-1 rounded">{{ ((data.product.pricing.compareAtPrice - data.product.pricing.price) * 100 / data.product.pricing.compareAtPrice) | round(1) }}%
        </span>
        {% endif %}
        </div>
    <div class="p-3 flex flex-col flex-1">
        <div class="flex  justify-between mb-1">
            <h3 class="font-semibold text-right text-xl leading-6 min-h-[48px]" style="display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; text-overflow:ellipsis;"><a href="/product/{{ data.product.slug }}">{{ data.product.title }}</a></h3>
            <div class="flex items-center text-yellow-500 text-xs">
                <span class="material-symbols-outlined text-sm">star</span>
                <span class="ml-1 text-gray-600">5</span>
            </div>
        </div>
        <p class="text-right text-gray-500 text-xs mb-3">{{ data.product.collection.title }}</p>
        <div class="flex items-center justify-start gap-2 mb-2">
            <p class="text-sm font-bold primary-orange-text">{{ data.product.pricing.price | money }}</p>
            {% if data.product.pricing.compareAtPrice and data.product.pricing.compareAtPrice > data.product.pricing.price %}
            <p class="text-xs text-gray-400 line-through">{{ data.product.pricing.compareAtPrice | money }}</p>
            {% endif %}
        </div>
        <button @click="addProductToCart('{{ data.product._id }}', 1, [])" :disabled="loading.addToCart"
            class="w-full primary-orange text-white py-2 rounded-[8px] text-sm font-semibold hover:opacity-95 mt-auto">إضافة
            للسلة
        </button>
    </div>
</div>